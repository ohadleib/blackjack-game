(this["webpackJsonpblackjack-game"]=this["webpackJsonpblackjack-game"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(2),l=a.n(s),u=(a(12),a(3)),c=a(4),i=a(6),o=a(5),d=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={deck:[],dealer:null,player:null,wallet:0,inputValue:"",currentBet:null,gameOver:!1,message:null},n}return Object(c.a)(a,[{key:"generateDeck",value:function(){for(var e=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"],t=["\u2666","\u2663","\u2665","\u2660"],a=[],n=0;n<e.length;n++)for(var r=0;r<t.length;r++)a.push({number:e[n],suit:t[r]});return a}},{key:"dealCards",value:function(e){var t=this.getRandomCard(e),a=this.getRandomCard(t.updatedDeck),n=this.getRandomCard(a.updatedDeck),r=[t.randomCard,n.randomCard],s=[a.randomCard,{}],l={cards:r,count:this.getCount(r)},u={cards:s,count:this.getCount(s)};return{updatedDeck:n.updatedDeck,player:l,dealer:u}}},{key:"startNewGame",value:function(e){if("continue"===e)if(this.state.wallet>0){var t=this.state.deck.length<10?this.generateDeck():this.state.deck,a=this.dealCards(t),n=a.updatedDeck,r=a.player,s=a.dealer;this.setState({deck:n,dealer:s,player:r,currentBet:null,gameOver:!1,message:null})}else this.setState({message:"Game over"});else{var l=this.generateDeck(),u=this.dealCards(l),c=u.updatedDeck,i=u.player,o=u.dealer;this.setState({deck:c,dealer:o,player:i,wallet:100,inputValue:"",currentBet:null,gameOver:!1,message:null})}}},{key:"getRandomCard",value:function(e){var t=e,a=Math.floor(Math.random()*t.length),n=t[a];return t.splice(a,1),{randomCard:n,updatedDeck:t}}},{key:"placeBet",value:function(){var e=this.state.inputValue;if(e>this.state.wallet)this.setState({message:"There is not enough in the wallet"});else if(e%1!==0)this.setState({message:"numbers only."});else{var t=this.state.wallet-e;this.setState({wallet:t,inputValue:"",currentBet:e})}}},{key:"hit",value:function(){if(this.state.gameOver)this.setState({message:"Game over"});else if(this.state.currentBet){var e=this.getRandomCard(this.state.deck),t=e.randomCard,a=e.updatedDeck,n=this.state.player;n.cards.push(t),n.count=this.getCount(n.cards),n.count>21?this.setState({player:n,gameOver:!0,message:"BUST!"}):this.setState({deck:a,player:n})}else this.setState({message:"Please place bet."})}},{key:"dealerDraw",value:function(e,t){var a=this.getRandomCard(t),n=a.randomCard,r=a.updatedDeck;return e.cards.push(n),e.count=this.getCount(e.cards),{dealer:e,updatedDeck:r}}},{key:"getCount",value:function(e){var t=[];return e.forEach((function(e){"A"===e.number?t.push(e):e.number&&t.unshift(e)})),t.reduce((function(e,t){return"J"===t.number||"Q"===t.number||"K"===t.number?e+10:"A"===t.number?e+11<=21?e+11:e+1:e+t.number}),0)}},{key:"stand",value:function(){if(this.state.gameOver)this.setState({message:"Game over"});else{var e=this.getRandomCard(this.state.deck),t=e.updatedDeck,a=this.state.dealer;for(a.cards.pop(),a.cards.push(e.randomCard),a.count=this.getCount(a.cards);a.count<17;){var n=this.dealerDraw(a,t);a=n.dealer,t=n.updatedDeck}if(a.count>21)this.setState({deck:t,dealer:a,wallet:this.state.wallet+2*this.state.currentBet,gameOver:!0,message:"You win!"});else{var r,s=this.getWinner(a,this.state.player),l=this.state.wallet;"dealer"===s?r="Dealer win":"player"===s?(l+=2*this.state.currentBet,r="You win!"):(l+=this.state.currentBet,r="Push."),this.setState({deck:t,dealer:a,wallet:l,gameOver:!0,message:r})}}}},{key:"getWinner",value:function(e,t){return e.count>t.count?"dealer":e.count<t.count?"player":"push"}},{key:"inputChange",value:function(e){var t=+e.target.value;this.setState({inputValue:t})}},{key:"handleKeyDown",value:function(e){console.log(e.keyCode),13===e.keyCode&&this.placeBet()}},{key:"componentWillMount",value:function(){this.startNewGame(),document.querySelector("body").addEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.dealer.cards[0].number;return this.state.dealer.cards[1].number?this.state.dealer.count:"J"===t||"Q"===t||"K"===t?10:"A"===t?11:t,r.a.createElement("div",null,r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"newGame",onClick:function(){e.startNewGame()}},"New Game"),r.a.createElement("button",{className:"open",onClick:function(){e.hit()}},"Open Card"),r.a.createElement("button",{onClick:function(){e.stand()}},"Stand")),r.a.createElement("p",null,"Wallet: $",this.state.wallet),this.state.currentBet?null:r.a.createElement("div",{className:"input-bet"},r.a.createElement("form",null,r.a.createElement("input",{type:"number",name:"bet",placeholder:"",value:this.state.inputValue,onChange:this.inputChange.bind(this)}))),r.a.createElement("button",{className:"placeBet",onClick:function(){e.placeBet()}},"Bet"),this.state.gameOver?r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(){e.startNewGame("continue")}},"Continue")):null,r.a.createElement("p",null,"Your Hand (",this.state.player.count,")"),r.a.createElement("table",{className:"cards"},r.a.createElement("tr",null,this.state.player.cards.map((function(e,t){return r.a.createElement(m,{key:t,number:e.number,suit:e.suit})})))),r.a.createElement("p",null,"Dealer's Hand (",this.state.dealer.count,")"),r.a.createElement("table",{className:"cards"},r.a.createElement("tr",null,this.state.dealer.cards.map((function(e,t){return r.a.createElement(m,{key:t,number:e.number,suit:e.suit})})))),r.a.createElement("p",null,this.state.message))}}]),a}(r.a.Component),m=function(e){var t=e.number,a=e.suit,n=t?"".concat(t).concat(a):null,s="\u2666"===a||"\u2665"===a?"card-red":"card";return r.a.createElement("td",null,r.a.createElement("div",{className:s},n))},h=d;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.b6d60240.chunk.js.map